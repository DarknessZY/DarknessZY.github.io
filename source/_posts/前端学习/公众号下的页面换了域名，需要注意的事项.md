---
title: 公众号下的页面换了域名，需要注意的事项
date: 2025-04-20 19:53
tags: [随笔]
categories: 前端随笔
---

1. **支付授权目录**：
   - 在微信公众平台中，找到“微信支付”设置，更新“支付授权目录”。这个目录应该包含新的域名，因为用户点击支付按钮后，微信会跳转到这个目录下的页面进行支付操作。

2. **接口安全域名**：
   - 如果新的域名也需要调用微信的API接口，那么您还需要在“开发设置”中更新“接口安全域名”，确保新的域名在微信的安全域名列表中。

3. **业务域名**：
   - 如果您的公众号使用了JS-SDK，并且新的域名下有前端页面需要调用JS-SDK，那么您还需要在“公众号JS-SDK”页面更新“业务域名”。

4. **服务器配置**：
   - 如果新的域名下有服务器地址用于接收微信的事件消息，那么您还需要在“开发设置”中更新“服务器配置”，包括服务器地址(URL)、Token、EncodingAESKey和消息加解密方式。

5. **SSL证书**：
   - 如果新的域名使用了不同的服务器或服务提供商，您可能需要重新上传或更新SSL证书，以确保HTTPS连接的安全性。

6. **代码中的域名引用**：
   - 您还需要检查并更新代码中所有硬编码的旧域名引用，确保所有请求都指向新的域名。

在更新配置后，请务必进行充分的测试，以确保支付功能和其他相关功能在新的域名下能够正常工作。测试内容包括但不限于支付流程、接口调用、消息接收等。

请注意，所有配置的域名必须使用HTTPS协议，并且需要具有有效的SSL证书。